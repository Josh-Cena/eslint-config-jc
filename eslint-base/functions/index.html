<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-eslint-base/functions">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Functions | JC-verse style guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jc-verse.github.io/js-style-guide/eslint-base/functions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Functions | JC-verse style guide"><meta data-rh="true" name="description" content="When to create functions"><meta data-rh="true" property="og:description" content="When to create functions"><link data-rh="true" rel="icon" href="/js-style-guide/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jc-verse.github.io/js-style-guide/eslint-base/functions"><link data-rh="true" rel="alternate" href="https://jc-verse.github.io/js-style-guide/eslint-base/functions" hreflang="en"><link data-rh="true" rel="alternate" href="https://jc-verse.github.io/js-style-guide/eslint-base/functions" hreflang="x-default"><link rel="stylesheet" href="/js-style-guide/assets/css/styles.ad3c40c9.css">
<link rel="preload" href="/js-style-guide/assets/js/runtime~main.b742125e.js" as="script">
<link rel="preload" href="/js-style-guide/assets/js/main.2daef5d8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/js-style-guide/"><div class="navbar__logo"><img src="/js-style-guide/img/logo-light.svg" alt="Logo" class="themedImage_BQGR themedImage--light_HAxW"><img src="/js-style-guide/img/logo.svg" alt="Logo" class="themedImage_BQGR themedImage--dark_bGx0"></div><b class="navbar__title text--truncate">JC-verse style guide</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/js-style-guide/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jc-verse/js-style-guide" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r docsWrapper_ct1J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docPage_KLoz"><aside class="theme-doc-sidebar-container docSidebarContainer_y0RQ"><div class="sidebar_CUen"><nav class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/js-style-guide/">Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/js-style-guide/eslint-base/">Base rules</a><button aria-label="Toggle the collapsible sidebar category &#x27;Base rules&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/formatting">General formatting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/variables-expressions">Variables &amp; expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/operators">Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/control-flow">Control flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/js-style-guide/eslint-base/functions">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/objects-classes">Objects &amp; classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/collections">Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/async">Async operations</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/js-style-guide/typescript">TypeScript</a></li></ul></nav></div></aside><main class="docMainContainer_sTIZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/js-style-guide/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_GlTw"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/js-style-guide/eslint-base/"><span itemprop="name">Base rules</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Functions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Functions</h1><h2 class="anchor anchorWithStickyNavbar_JmGV" id="when-to-create-functions">When to create functions<a class="hash-link" href="#when-to-create-functions" title="Direct link to heading">​</a></h2><p>The guide is: <strong>do not over-abstract</strong>. For example, this kind of code produces unnecessary runtime overhead, and more importantly, mental burden:</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">resolveTarget</span><span style="color:#24292F">(</span><span style="color:#953800">filePath</span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">string</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// ^ What does `resolveTarget` do?</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">return</span><span style="color:#24292F"> filePath.</span><span style="color:#8250DF">endsWith</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;.js&quot;</span><span style="color:#24292F">)</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">?</span><span style="color:#24292F"> </span><span style="color:#0A3069">`./build/js/${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0A3069">`./build/asset/${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// ^ It seems to return a different path when the extension is different, but</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">//   where is it useful?</span></div><div class="line"><span style="color:#24292F">}</span></div><div class="line"></div><div class="line"><span style="color:#CF222E">async</span><span style="color:#24292F"> </span><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">copyFile</span><span style="color:#24292F">(</span><span style="color:#953800">filePath</span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">string</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// ^ `copyFile` sounds like a really generic name. Is it used in multiple places?</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">//   Should I take caution when refactoring?</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#0550AE">targetPath</span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#8250DF">resolveTarget</span><span style="color:#24292F">(filePath);</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// ^ What does `resolveTarget` do again? *Going back to definition* Now I know</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">//   what it does, but the code is so long (not in this dumbed-down example),</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">//   I can&#x27;t compare them side-by-side and understand exactly what the code</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">//   does step-by-step at a glance</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">await</span><span style="color:#24292F"> fs.</span><span style="color:#8250DF">copyFile</span><span style="color:#24292F">(filePath, targetPath);</span></div><div class="line"><span style="color:#24292F">  console.</span><span style="color:#8250DF">log</span><span style="color:#24292F">(</span><span style="color:#0A3069">`Copied ${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span><span style="color:#24292F">);</span></div><div class="line"><span style="color:#24292F">}</span></div><div class="line"></div><div class="line"><span style="color:#CF222E">await</span><span style="color:#24292F"> </span><span style="color:#0550AE">Promise</span><span style="color:#24292F">.</span><span style="color:#8250DF">all</span><span style="color:#24292F">(files.</span><span style="color:#8250DF">map</span><span style="color:#24292F">(copyFile));</span></div><div class="line"><span style="color:#6E7781">// ^ Does `copyFile` only do `fs.copyFile`? *Going back to definition* No, it</span></div><div class="line"><span style="color:#6E7781">//   does much more. Of course I can name it as `copyFileToResolvedTargetAndLog`,</span></div><div class="line"><span style="color:#6E7781">//   but then what&#x27;s the point of abstraction?</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">resolveTarget</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">filePath</span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">string</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// ^ What does `resolveTarget` do?</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> filePath.</span><span style="color:#D2A8FF">endsWith</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;.js&quot;</span><span style="color:#C9D1D9">)</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">?</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`./build/js/${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`./build/asset/${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// ^ It seems to return a different path when the extension is different, but</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">//   where is it useful?</span></div><div class="line"><span style="color:#C9D1D9">}</span></div><div class="line"></div><div class="line"><span style="color:#FF7B72">async</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">copyFile</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">filePath</span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">string</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// ^ `copyFile` sounds like a really generic name. Is it used in multiple places?</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">//   Should I take caution when refactoring?</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">targetPath</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">resolveTarget</span><span style="color:#C9D1D9">(filePath);</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// ^ What does `resolveTarget` do again? *Going back to definition* Now I know</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">//   what it does, but the code is so long (not in this dumbed-down example),</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">//   I can&#x27;t compare them side-by-side and understand exactly what the code</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">//   does step-by-step at a glance</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> fs.</span><span style="color:#D2A8FF">copyFile</span><span style="color:#C9D1D9">(filePath, targetPath);</span></div><div class="line"><span style="color:#C9D1D9">  console.</span><span style="color:#D2A8FF">log</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">`Copied ${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span><span style="color:#C9D1D9">);</span></div><div class="line"><span style="color:#C9D1D9">}</span></div><div class="line"></div><div class="line"><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">Promise</span><span style="color:#C9D1D9">.</span><span style="color:#D2A8FF">all</span><span style="color:#C9D1D9">(files.</span><span style="color:#D2A8FF">map</span><span style="color:#C9D1D9">(copyFile));</span></div><div class="line"><span style="color:#8B949E">// ^ Does `copyFile` only do `fs.copyFile`? *Going back to definition* No, it</span></div><div class="line"><span style="color:#8B949E">//   does much more. Of course I can name it as `copyFileToResolvedTargetAndLog`,</span></div><div class="line"><span style="color:#8B949E">//   but then what&#x27;s the point of abstraction?</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>When you could just simply put everything into a single lambda and it still makes sense:</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">await</span><span style="color:#24292F"> </span><span style="color:#0550AE">Promise</span><span style="color:#24292F">.</span><span style="color:#8250DF">all</span><span style="color:#24292F">(files.</span><span style="color:#8250DF">map</span><span style="color:#24292F">(</span><span style="color:#CF222E">async</span><span style="color:#24292F"> (</span><span style="color:#953800">filePath</span><span style="color:#24292F">) </span><span style="color:#CF222E">=&gt;</span><span style="color:#24292F"> {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#0550AE">targetPath</span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span><span style="color:#24292F"> filePath.</span><span style="color:#8250DF">endsWith</span><span style="color:#24292F">(</span><span style="color:#0A3069">&#x27;.js&#x27;</span><span style="color:#24292F">)</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">?</span><span style="color:#24292F"> </span><span style="color:#0A3069">`./build/js/${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0A3069">`./build/asset/${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">await</span><span style="color:#24292F"> fs.</span><span style="color:#8250DF">copyFile</span><span style="color:#24292F">(filePath, targetPath);</span></div><div class="line"><span style="color:#24292F">  console.</span><span style="color:#8250DF">log</span><span style="color:#24292F">(</span><span style="color:#0A3069">`Copied ${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span><span style="color:#24292F">);</span></div><div class="line"><span style="color:#24292F">})));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">Promise</span><span style="color:#C9D1D9">.</span><span style="color:#D2A8FF">all</span><span style="color:#C9D1D9">(files.</span><span style="color:#D2A8FF">map</span><span style="color:#C9D1D9">(</span><span style="color:#FF7B72">async</span><span style="color:#C9D1D9"> (</span><span style="color:#FFA657">filePath</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">targetPath</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> filePath.</span><span style="color:#D2A8FF">endsWith</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&#x27;.js&#x27;</span><span style="color:#C9D1D9">)</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">?</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`./build/js/${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`./build/asset/${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">await</span><span style="color:#C9D1D9"> fs.</span><span style="color:#D2A8FF">copyFile</span><span style="color:#C9D1D9">(filePath, targetPath);</span></div><div class="line"><span style="color:#C9D1D9">  console.</span><span style="color:#D2A8FF">log</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">`Copied ${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span><span style="color:#C9D1D9">);</span></div><div class="line"><span style="color:#C9D1D9">})));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Keep in mind the rule of &quot;code for the average-intelligent&quot;. When a sequence of operations is self-explanatory, you don&#x27;t need to extract it into a separate function just to give it a name that mirrors exactly what&#x27;s described with code.</p><p>In addition, <strong>do not export a function just to test it</strong>.</p><pre class="shiki github-light with-title" style="background-color:#ffffff;color:#24292f" title="copyFile.ts"><div class="code-title">copyFile.ts</div><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#6E7781">// Is it used in multiple modules? Should I take caution when refactoring?</span></div><div class="line"><span style="color:#6E7781">// *Doing a global search* It&#x27;s only used in this module and its accompanied</span></div><div class="line"><span style="color:#6E7781">// test file. But if I remove the `export`, I have to refactor the tests and</span></div><div class="line"><span style="color:#6E7781">// risk reduced test coverage. Yuck!</span></div><div class="line"><span style="color:#CF222E">export</span><span style="color:#24292F"> </span><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">resolveTarget</span><span style="color:#24292F">(</span><span style="color:#953800">filePath</span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">string</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">return</span><span style="color:#24292F"> filePath.</span><span style="color:#8250DF">endsWith</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;.js&quot;</span><span style="color:#24292F">)</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">?</span><span style="color:#24292F"> </span><span style="color:#0A3069">`./build/js/${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0A3069">`./build/asset/${</span><span style="color:#24292F">filePath</span><span style="color:#0A3069">}`</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark with-title" style="background-color:#0d1117;color:#c9d1d9" title="copyFile.ts"><div class="code-title">copyFile.ts</div><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#8B949E">// Is it used in multiple modules? Should I take caution when refactoring?</span></div><div class="line"><span style="color:#8B949E">// *Doing a global search* It&#x27;s only used in this module and its accompanied</span></div><div class="line"><span style="color:#8B949E">// test file. But if I remove the `export`, I have to refactor the tests and</span></div><div class="line"><span style="color:#8B949E">// risk reduced test coverage. Yuck!</span></div><div class="line"><span style="color:#FF7B72">export</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">resolveTarget</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">filePath</span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">string</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> filePath.</span><span style="color:#D2A8FF">endsWith</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;.js&quot;</span><span style="color:#C9D1D9">)</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">?</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`./build/js/${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`./build/asset/${</span><span style="color:#C9D1D9">filePath</span><span style="color:#A5D6FF">}`</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-light with-title" style="background-color:#ffffff;color:#24292f" title="copyFile.test.ts"><div class="code-title">copyFile.test.ts</div><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">import</span><span style="color:#24292F"> { resolveTarget } </span><span style="color:#CF222E">from</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;./copyFile&quot;</span><span style="color:#24292F">;</span></div><div class="line"></div><div class="line"><span style="color:#6E7781">// Testing this function simply because tests are easy to write</span></div><div class="line"><span style="color:#8250DF">describe</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;resolveTarget&quot;</span><span style="color:#24292F">, () </span><span style="color:#CF222E">=&gt;</span><span style="color:#24292F"> {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#8250DF">it</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;works&quot;</span><span style="color:#24292F">, () </span><span style="color:#CF222E">=&gt;</span><span style="color:#24292F"> {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#8250DF">expect</span><span style="color:#24292F">(</span><span style="color:#8250DF">resolveTarget</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;foo.js&quot;</span><span style="color:#24292F">)).</span><span style="color:#8250DF">toEqual</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;./build/js/foo.js&quot;</span><span style="color:#24292F">);</span></div><div class="line"><span style="color:#24292F">  });</span></div><div class="line"><span style="color:#24292F">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark with-title" style="background-color:#0d1117;color:#c9d1d9" title="copyFile.test.ts"><div class="code-title">copyFile.test.ts</div><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> { resolveTarget } </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;./copyFile&quot;</span><span style="color:#C9D1D9">;</span></div><div class="line"></div><div class="line"><span style="color:#8B949E">// Testing this function simply because tests are easy to write</span></div><div class="line"><span style="color:#D2A8FF">describe</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;resolveTarget&quot;</span><span style="color:#C9D1D9">, () </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#D2A8FF">it</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;works&quot;</span><span style="color:#C9D1D9">, () </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#D2A8FF">expect</span><span style="color:#C9D1D9">(</span><span style="color:#D2A8FF">resolveTarget</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;foo.js&quot;</span><span style="color:#C9D1D9">)).</span><span style="color:#D2A8FF">toEqual</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;./build/js/foo.js&quot;</span><span style="color:#C9D1D9">);</span></div><div class="line"><span style="color:#C9D1D9">  });</span></div><div class="line"><span style="color:#C9D1D9">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Tests are made for public APIs (or at least the useful functions that other internal modules use), not for internal implementations. Implementations may be refactored at any time and intermediate functions come and go, so don&#x27;t tie your tests to them. Mock side-effects like <code>fs.readFile</code> or provide fixtures instead of staying in the comfort zone of testing pure functions.</p><p>Keep in mind that refactoring doesn&#x27;t only mean changing the implementations of existing functions or modules, but also removing and adding them. It is critical to make clear which downstream dependents will be affected.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="declaration">Declaration<a class="hash-link" href="#declaration" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="func-style"><a href="https://eslint.org/docs/rules/func-style" target="_blank" rel="noopener noreferrer"><code>func-style</code></a><a class="hash-link" href="#func-style" title="Direct link to heading">​</a></h3><ul><li>Severity: warning</li><li>Configuration:<ul><li>Use function declaration over function expression (<code>&quot;declaration&quot;</code>)</li><li>Allow arrow functions when using expressions (<code>allowArrowFunctions: true</code>)</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="func-names"><a href="https://eslint.org/docs/rules/func-names" target="_blank" rel="noopener noreferrer"><code>func-names</code></a><a class="hash-link" href="#func-names" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_JmGV" id="func-name-matching"><a href="https://eslint.org/docs/rules/func-name-matching" target="_blank" rel="noopener noreferrer"><code>func-name-matching</code></a><a class="hash-link" href="#func-name-matching" title="Direct link to heading">​</a></h3><ul><li>Severity: warning</li><li>Configuration:<ul><li>Always require the function expression&#x27;s name to match the variable it&#x27;s assigned to. (<code>&quot;always&quot;</code>)</li></ul></li></ul><p>Although we rarely use function expressions and always prefer either arrow functions or declarations, in cases where function expressions are necessary, the variable name should match the name of declaration. It&#x27;s mostly to ensure that the error stack is always as expected: the variable name does not appear in the stack trace and may result in obscure call stacks.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#8250DF">foo</span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">longFoo</span><span style="color:#24292F">() {</span></div><div class="line"><span style="color:#24292F">  console.</span><span style="color:#8250DF">log</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;pass&quot;</span><span style="color:#24292F">);</span></div><div class="line"><span style="color:#24292F">};</span></div><div class="line"><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#8250DF">foo2</span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">longFoo</span><span style="color:#24292F">() {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">throw</span><span style="color:#24292F"> </span><span style="color:#CF222E">new</span><span style="color:#24292F"> </span><span style="color:#0550AE">Error</span><span style="color:#24292F">(</span><span style="color:#0A3069">&quot;panic&quot;</span><span style="color:#24292F">);</span></div><div class="line"><span style="color:#24292F">};</span></div><div class="line"><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">bar</span><span style="color:#24292F">() {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#8250DF">foo</span><span style="color:#24292F">();</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#8250DF">foo2</span><span style="color:#24292F">();</span></div><div class="line"><span style="color:#24292F">}</span></div><div class="line"><span style="color:#8250DF">bar</span><span style="color:#24292F">();</span></div><div class="line"><span style="color:#6E7781">// This throws error stack:</span></div><div class="line"><span style="color:#6E7781">// Error: panic</span></div><div class="line"><span style="color:#6E7781">//     at longFoo (...)</span></div><div class="line"><span style="color:#6E7781">//     at bar (...)</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">foo</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">longFoo</span><span style="color:#C9D1D9">() {</span></div><div class="line"><span style="color:#C9D1D9">  console.</span><span style="color:#D2A8FF">log</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;pass&quot;</span><span style="color:#C9D1D9">);</span></div><div class="line"><span style="color:#C9D1D9">};</span></div><div class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">foo2</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">longFoo</span><span style="color:#C9D1D9">() {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">throw</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">new</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">Error</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;panic&quot;</span><span style="color:#C9D1D9">);</span></div><div class="line"><span style="color:#C9D1D9">};</span></div><div class="line"><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">bar</span><span style="color:#C9D1D9">() {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#D2A8FF">foo</span><span style="color:#C9D1D9">();</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#D2A8FF">foo2</span><span style="color:#C9D1D9">();</span></div><div class="line"><span style="color:#C9D1D9">}</span></div><div class="line"><span style="color:#D2A8FF">bar</span><span style="color:#C9D1D9">();</span></div><div class="line"><span style="color:#8B949E">// This throws error stack:</span></div><div class="line"><span style="color:#8B949E">// Error: panic</span></div><div class="line"><span style="color:#8B949E">//     at longFoo (...)</span></div><div class="line"><span style="color:#8B949E">//     at bar (...)</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>The <code>longFoo</code> is ambiguous. Although there&#x27;s also a source position in the stack trace, it&#x27;s better if we can instantly recognize the offending code when handling bug reports containing stack traces.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="default-param-last"><a href="https://eslint.org/docs/rules/default-param-last" target="_blank" rel="noopener noreferrer"><code>default-param-last</code></a><a class="hash-link" href="#default-param-last" title="Direct link to heading">​</a></h3><ul><li>Severity: off</li></ul><p>See <a href="/js-style-guide/typescript">TypeScript</a>.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="no-caller"><a href="https://eslint.org/docs/rules/no-caller" target="_blank" rel="noopener noreferrer"><code>no-caller</code></a><a class="hash-link" href="#no-caller" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li></ul><p>From the ESLint docs:</p><blockquote><p>The use of <code>arguments.caller</code> and <code>arguments.callee</code> make several code optimizations impossible. They have been deprecated in future versions of JavaScript and their use is forbidden in ECMAScript 5 while in strict mode.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_JmGV" id="return-statements">Return statements<a class="hash-link" href="#return-statements" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="consistent-return"><a href="https://eslint.org/docs/rules/consistent-return" target="_blank" rel="noopener noreferrer"><code>consistent-return</code></a><a class="hash-link" href="#consistent-return" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li><li>Configuration:<ul><li>Require not declaring <code>undefined</code> in return statement if not needing a return value (<code>treatUndefinedAsUnspecified: false</code>)</li></ul></li><li>Related:<ul><li><code>ts(7030): Not all code paths return a value.</code> (with <a href="https://www.typescriptlang.org/tsconfig#noImplicitReturns" target="_blank" rel="noopener noreferrer"><code>noImplicitReturns</code></a>)</li></ul></li></ul><p>We require all return statements to be either explicitly returning a value or implicitly returning <code>undefined</code> (in case of <code>void</code>-returning functions). Because most of our code is already type-checked by TypeScript, which surfaces the implicitly returned <code>undefined</code> in the return type, this rule is more for aesthetic purposes. It also helps us find all possible return values at a glance.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="arrow-functions">Arrow functions<a class="hash-link" href="#arrow-functions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="arrow-body-style"><a href="https://eslint.org/docs/rules/arrow-body-style" target="_blank" rel="noopener noreferrer"><code>arrow-body-style</code></a><a class="hash-link" href="#arrow-body-style" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li><li>Configuration:<ul><li>Require omitted braces and implicit return when possible (<code>&quot;as-needed&quot;</code>)</li><li>Do not treat object literals as special case (<code>requireReturnForObjectLiteral: false</code>)</li></ul></li></ul><p>Implicit returning is much cleaner.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#0550AE">peopleWithIDs</span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span><span style="color:#24292F"> people.</span><span style="color:#8250DF">map</span><span style="color:#24292F">((</span><span style="color:#953800">p</span><span style="color:#24292F">, </span><span style="color:#953800">id</span><span style="color:#24292F">) </span><span style="color:#CF222E">=&gt;</span><span style="color:#24292F"> ({ </span><span style="color:#CF222E">...</span><span style="color:#24292F">p, id }));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">peopleWithIDs</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> people.</span><span style="color:#D2A8FF">map</span><span style="color:#C9D1D9">((</span><span style="color:#FFA657">p</span><span style="color:#C9D1D9">, </span><span style="color:#FFA657">id</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> ({ </span><span style="color:#FF7B72">...</span><span style="color:#C9D1D9">p, id }));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Useless braces and <code>return</code>s can be artifacts from refactoring, which increases indentation and line count without much value. Enforcing implicit return also encourages future refactors to fit logic within one expression instead of using multiple assignments and control flow.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="no-confusing-arrow"><a href="https://eslint.org/docs/rules/no-confusing-arrow" target="_blank" rel="noopener noreferrer"><code>no-confusing-arrow</code></a><a class="hash-link" href="#no-confusing-arrow" title="Direct link to heading">​</a></h3><p>TODO</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="this"><code>this</code><a class="hash-link" href="#this" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="consistent-this"><a href="https://eslint.org/docs/rules/consistent-this" target="_blank" rel="noopener noreferrer"><code>consistent-this</code></a><a class="hash-link" href="#consistent-this" title="Direct link to heading">​</a></h3><ul><li>Severity: off</li></ul><p>We warn against <code>this</code> aliasing altogether, but when it&#x27;s inevitable (for example, you need two <code>this</code> values within one function), you should use a semantic name instead of <code>self</code> or <code>that</code>.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">class</span><span style="color:#24292F"> </span><span style="color:#953800">Foo</span><span style="color:#24292F"> {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#8250DF">bar</span><span style="color:#24292F">(</span><span style="color:#953800">str</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#0550AE">fooInstance</span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#0550AE">this</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">return</span><span style="color:#24292F"> </span><span style="color:#0550AE">JSON</span><span style="color:#24292F">.</span><span style="color:#0550AE">parse</span><span style="color:#24292F">(str, </span><span style="color:#CF222E">function</span><span style="color:#24292F"> (</span><span style="color:#953800">key</span><span style="color:#24292F">, </span><span style="color:#953800">value</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#CF222E">if</span><span style="color:#24292F"> (</span><span style="color:#CF222E">typeof</span><span style="color:#24292F"> value </span><span style="color:#CF222E">!==</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;string&quot;</span><span style="color:#24292F">) </span><span style="color:#CF222E">return</span><span style="color:#24292F"> value;</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#CF222E">return</span><span style="color:#24292F"> (</span></div><div class="line"><span style="color:#24292F">        </span><span style="color:#953800">value</span></div><div class="line"><span style="color:#24292F">          .</span><span style="color:#8250DF">replace</span><span style="color:#24292F">(</span><span style="color:#0A3069">/</span><span style="color:#116329">\{\{</span><span style="color:#0A3069">name</span><span style="color:#116329">\}\}</span><span style="color:#0A3069">/</span><span style="color:#CF222E">g</span><span style="color:#24292F">, fooInstance.name)</span></div><div class="line"><span style="color:#24292F">          </span><span style="color:#6E7781">// The `this` here is the object that `key` belongs to</span></div><div class="line"><span style="color:#24292F">          .</span><span style="color:#8250DF">replace</span><span style="color:#24292F">(</span></div><div class="line"><span style="color:#24292F">            </span><span style="color:#0A3069">/</span><span style="color:#116329">\{\{</span><span style="color:#0A3069">(?&lt;</span><span style="color:#24292F">prop</span><span style="color:#0A3069">&gt;</span><span style="color:#0550AE">.</span><span style="color:#CF222E">*?</span><span style="color:#0A3069">)</span><span style="color:#116329">\}\}</span><span style="color:#0A3069">/</span><span style="color:#CF222E">g</span><span style="color:#24292F">,</span></div><div class="line"><span style="color:#24292F">            (</span><span style="color:#953800">m</span><span style="color:#24292F">, </span><span style="color:#953800">p1</span><span style="color:#24292F">, </span><span style="color:#953800">o</span><span style="color:#24292F">, </span><span style="color:#953800">s</span><span style="color:#24292F">, </span><span style="color:#953800">groups</span><span style="color:#24292F">) </span><span style="color:#CF222E">=&gt;</span><span style="color:#24292F"> </span><span style="color:#0550AE">this</span><span style="color:#24292F">[groups.prop],</span></div><div class="line"><span style="color:#24292F">          )</span></div><div class="line"><span style="color:#24292F">      );</span></div><div class="line"><span style="color:#24292F">    });</span></div><div class="line"><span style="color:#24292F">  }</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">class</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657">Foo</span><span style="color:#C9D1D9"> {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#D2A8FF">bar</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">str</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">fooInstance</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">this</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">JSON</span><span style="color:#C9D1D9">.</span><span style="color:#79C0FF">parse</span><span style="color:#C9D1D9">(str, </span><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> (</span><span style="color:#FFA657">key</span><span style="color:#C9D1D9">, </span><span style="color:#FFA657">value</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (</span><span style="color:#FF7B72">typeof</span><span style="color:#C9D1D9"> value </span><span style="color:#FF7B72">!==</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;string&quot;</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> value;</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> (</span></div><div class="line"><span style="color:#C9D1D9">        </span><span style="color:#FFA657">value</span></div><div class="line"><span style="color:#C9D1D9">          .</span><span style="color:#D2A8FF">replace</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">/</span><span style="color:#7EE787">\{\{</span><span style="color:#A5D6FF">name</span><span style="color:#7EE787">\}\}</span><span style="color:#A5D6FF">/</span><span style="color:#FF7B72">g</span><span style="color:#C9D1D9">, fooInstance.name)</span></div><div class="line"><span style="color:#C9D1D9">          </span><span style="color:#8B949E">// The `this` here is the object that `key` belongs to</span></div><div class="line"><span style="color:#C9D1D9">          .</span><span style="color:#D2A8FF">replace</span><span style="color:#C9D1D9">(</span></div><div class="line"><span style="color:#C9D1D9">            </span><span style="color:#A5D6FF">/</span><span style="color:#7EE787">\{\{</span><span style="color:#A5D6FF">(?&lt;</span><span style="color:#C9D1D9">prop</span><span style="color:#A5D6FF">&gt;</span><span style="color:#79C0FF">.</span><span style="color:#FF7B72">*?</span><span style="color:#A5D6FF">)</span><span style="color:#7EE787">\}\}</span><span style="color:#A5D6FF">/</span><span style="color:#FF7B72">g</span><span style="color:#C9D1D9">,</span></div><div class="line"><span style="color:#C9D1D9">            (</span><span style="color:#FFA657">m</span><span style="color:#C9D1D9">, </span><span style="color:#FFA657">p1</span><span style="color:#C9D1D9">, </span><span style="color:#FFA657">o</span><span style="color:#C9D1D9">, </span><span style="color:#FFA657">s</span><span style="color:#C9D1D9">, </span><span style="color:#FFA657">groups</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">this</span><span style="color:#C9D1D9">[groups.prop],</span></div><div class="line"><span style="color:#C9D1D9">          )</span></div><div class="line"><span style="color:#C9D1D9">      );</span></div><div class="line"><span style="color:#C9D1D9">    });</span></div><div class="line"><span style="color:#C9D1D9">  }</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/js-style-guide/eslint-base/control-flow"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Control flow</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/js-style-guide/eslint-base/objects-classes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Objects &amp; classes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-to-create-functions" class="table-of-contents__link toc-highlight">When to create functions</a></li><li><a href="#declaration" class="table-of-contents__link toc-highlight">Declaration</a><ul><li><a href="#func-style" class="table-of-contents__link toc-highlight"><code>func-style</code></a></li><li><a href="#func-names" class="table-of-contents__link toc-highlight"><code>func-names</code></a></li><li><a href="#func-name-matching" class="table-of-contents__link toc-highlight"><code>func-name-matching</code></a></li></ul></li><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a><ul><li><a href="#default-param-last" class="table-of-contents__link toc-highlight"><code>default-param-last</code></a></li><li><a href="#no-caller" class="table-of-contents__link toc-highlight"><code>no-caller</code></a></li></ul></li><li><a href="#return-statements" class="table-of-contents__link toc-highlight">Return statements</a><ul><li><a href="#consistent-return" class="table-of-contents__link toc-highlight"><code>consistent-return</code></a></li></ul></li><li><a href="#arrow-functions" class="table-of-contents__link toc-highlight">Arrow functions</a><ul><li><a href="#arrow-body-style" class="table-of-contents__link toc-highlight"><code>arrow-body-style</code></a></li><li><a href="#no-confusing-arrow" class="table-of-contents__link toc-highlight"><code>no-confusing-arrow</code></a></li></ul></li><li><a href="#this" class="table-of-contents__link toc-highlight"><code>this</code></a><ul><li><a href="#consistent-this" class="table-of-contents__link toc-highlight"><code>consistent-this</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://github.com/jc-verse/js-style-guide" rel="noopener noreferrer" class="footerLogoLink_tutC"><img src="/js-style-guide/img/logo.svg" alt="JC-verse logo" class="themedImage_BQGR themedImage--light_HAxW footer__logo"><img src="/js-style-guide/img/logo.svg" alt="JC-verse logo" class="themedImage_BQGR themedImage--dark_bGx0 footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 JC-verse. Built with Docusaurus.</div></div></div></footer></div>
<script src="/js-style-guide/assets/js/runtime~main.b742125e.js"></script>
<script src="/js-style-guide/assets/js/main.2daef5d8.js"></script>
</body>
</html>