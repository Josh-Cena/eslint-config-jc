<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-eslint-base/control-flow">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Control flow | JC-verse style guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jc-verse.github.io/js-style-guide/eslint-base/control-flow"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Control flow | JC-verse style guide"><meta data-rh="true" name="description" content="Conditionals"><meta data-rh="true" property="og:description" content="Conditionals"><link data-rh="true" rel="icon" href="/js-style-guide/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jc-verse.github.io/js-style-guide/eslint-base/control-flow"><link data-rh="true" rel="alternate" href="https://jc-verse.github.io/js-style-guide/eslint-base/control-flow" hreflang="en"><link data-rh="true" rel="alternate" href="https://jc-verse.github.io/js-style-guide/eslint-base/control-flow" hreflang="x-default"><link rel="stylesheet" href="/js-style-guide/assets/css/styles.ad3c40c9.css">
<link rel="preload" href="/js-style-guide/assets/js/runtime~main.b742125e.js" as="script">
<link rel="preload" href="/js-style-guide/assets/js/main.2daef5d8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/js-style-guide/"><div class="navbar__logo"><img src="/js-style-guide/img/logo-light.svg" alt="Logo" class="themedImage_BQGR themedImage--light_HAxW"><img src="/js-style-guide/img/logo.svg" alt="Logo" class="themedImage_BQGR themedImage--dark_bGx0"></div><b class="navbar__title text--truncate">JC-verse style guide</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/js-style-guide/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jc-verse/js-style-guide" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r docsWrapper_ct1J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docPage_KLoz"><aside class="theme-doc-sidebar-container docSidebarContainer_y0RQ"><div class="sidebar_CUen"><nav class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/js-style-guide/">Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/js-style-guide/eslint-base/">Base rules</a><button aria-label="Toggle the collapsible sidebar category &#x27;Base rules&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/formatting">General formatting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/variables-expressions">Variables &amp; expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/operators">Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/js-style-guide/eslint-base/control-flow">Control flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/functions">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/objects-classes">Objects &amp; classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/collections">Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/js-style-guide/eslint-base/async">Async operations</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/js-style-guide/typescript">TypeScript</a></li></ul></nav></div></aside><main class="docMainContainer_sTIZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/js-style-guide/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_GlTw"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/js-style-guide/eslint-base/"><span itemprop="name">Base rules</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Control flow</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Control flow</h1><h2 class="anchor anchorWithStickyNavbar_JmGV" id="conditionals">Conditionals<a class="hash-link" href="#conditionals" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="no-cond-assign"><a href="https://eslint.org/docs/rules/no-cond-assign" target="_blank" rel="noopener noreferrer"><code>no-cond-assign</code></a><a class="hash-link" href="#no-cond-assign" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li><li>Configuration:<ul><li>Always disallow assignments in conditions (<code>&quot;always&quot;</code>)</li></ul></li></ul><p>Assignments in conditionals are a common source of mistakes.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">if</span><span style="color:#24292F"> (res.status </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#0550AE">404</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">return</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;Not found&quot;</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">}</span></div><div class="line"><span style="color:#6E7781">// res.status becomes 404</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (res.status </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">404</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;Not found&quot;</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">}</span></div><div class="line"><span style="color:#8B949E">// res.status becomes 404</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>There is never a case where putting assignments in conditionals does not significantly subtract from readability.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">setHeight</span><span style="color:#24292F">(</span><span style="color:#953800">node</span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#953800">HTMLElement</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">let</span><span style="color:#24292F"> someNode </span><span style="color:#CF222E">=</span><span style="color:#24292F"> node;</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">do</span><span style="color:#24292F"> someNode.style.height </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;100px&quot;</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">while</span><span style="color:#24292F"> ((someNode </span><span style="color:#CF222E">=</span><span style="color:#24292F"> someNode.parentNode));</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// ^ First parse: this is an equality test?</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// ^ Second parse: this is an assignment. Is that a mistake?</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// ^ Third parse: oh, it&#x27;s intended because of the extra brackets</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">setHeight</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">node</span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657">HTMLElement</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">let</span><span style="color:#C9D1D9"> someNode </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> node;</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">do</span><span style="color:#C9D1D9"> someNode.style.height </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;100px&quot;</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">while</span><span style="color:#C9D1D9"> ((someNode </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> someNode.parentNode));</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// ^ First parse: this is an equality test?</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// ^ Second parse: this is an assignment. Is that a mistake?</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// ^ Third parse: oh, it&#x27;s intended because of the extra brackets</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Always write assignments as a separate statement:</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF">setHeight</span><span style="color:#24292F">(</span><span style="color:#953800">node</span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#953800">HTMLElement</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">let</span><span style="color:#24292F"> someNode </span><span style="color:#CF222E">=</span><span style="color:#24292F"> node;</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">while</span><span style="color:#24292F"> (someNode) {</span></div><div class="line"><span style="color:#24292F">    someNode.style.height </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;100px&quot;</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">    someNode </span><span style="color:#CF222E">=</span><span style="color:#24292F"> someNode.parentNode;</span></div><div class="line"><span style="color:#24292F">  }</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">setHeight</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">node</span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657">HTMLElement</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">let</span><span style="color:#C9D1D9"> someNode </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> node;</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">while</span><span style="color:#C9D1D9"> (someNode) {</span></div><div class="line"><span style="color:#C9D1D9">    someNode.style.height </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;100px&quot;</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">    someNode </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> someNode.parentNode;</span></div><div class="line"><span style="color:#C9D1D9">  }</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>It also permits us to use <code>while</code> instead of <code>do-while</code>, which is still a minor readability improvement.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="no-constant-condition"><a href="https://eslint.org/docs/rules/no-constant-condition" target="_blank" rel="noopener noreferrer"><code>no-constant-condition</code></a><a class="hash-link" href="#no-constant-condition" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li><li>Configuration:<ul><li>Disallow constant conditions in loops (<code>&quot;always&quot;</code>)</li></ul></li></ul><p>Constant conditions that always evaluate to truthy or falsy can be refactoring artifacts. In addition, infinite loops are also forbidden to prompt developers to consider alternatives like explicit exit conditions instead of <code>break</code> statements, or <code>setInterval</code>.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#6E7781">// Instead of this:</span></div><div class="line"><span style="color:#CF222E">while</span><span style="color:#24292F"> (</span><span style="color:#0550AE">true</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  curNode </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#8250DF">findNextNode</span><span style="color:#24292F">(curNode);</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">if</span><span style="color:#24292F"> (</span><span style="color:#8250DF">isTargetNode</span><span style="color:#24292F">(curNode)) </span><span style="color:#CF222E">break</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">}</span></div><div class="line"></div><div class="line"><span style="color:#6E7781">// Do this:</span></div><div class="line"><span style="color:#CF222E">do</span><span style="color:#24292F"> {</span></div><div class="line"><span style="color:#24292F">  curNode </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#8250DF">findNextNode</span><span style="color:#24292F">(curNode);</span></div><div class="line"><span style="color:#24292F">} </span><span style="color:#CF222E">while</span><span style="color:#24292F"> (</span><span style="color:#CF222E">!</span><span style="color:#8250DF">isTargetNode</span><span style="color:#24292F">(curNode));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#8B949E">// Instead of this:</span></div><div class="line"><span style="color:#FF7B72">while</span><span style="color:#C9D1D9"> (</span><span style="color:#79C0FF">true</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  curNode </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">findNextNode</span><span style="color:#C9D1D9">(curNode);</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (</span><span style="color:#D2A8FF">isTargetNode</span><span style="color:#C9D1D9">(curNode)) </span><span style="color:#FF7B72">break</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">}</span></div><div class="line"></div><div class="line"><span style="color:#8B949E">// Do this:</span></div><div class="line"><span style="color:#FF7B72">do</span><span style="color:#C9D1D9"> {</span></div><div class="line"><span style="color:#C9D1D9">  curNode </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">findNextNode</span><span style="color:#C9D1D9">(curNode);</span></div><div class="line"><span style="color:#C9D1D9">} </span><span style="color:#FF7B72">while</span><span style="color:#C9D1D9"> (</span><span style="color:#FF7B72">!</span><span style="color:#D2A8FF">isTargetNode</span><span style="color:#C9D1D9">(curNode));</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_JmGV" id="loops">Loops<a class="hash-link" href="#loops" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="for-direction"><a href="https://eslint.org/docs/rules/for-direction" target="_blank" rel="noopener noreferrer"><code>for-direction</code></a><a class="hash-link" href="#for-direction" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li></ul><p>The for loop should always be iterating in the correct direction.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">for</span><span style="color:#24292F"> (</span><span style="color:#CF222E">let</span><span style="color:#24292F"> i </span><span style="color:#CF222E">=</span><span style="color:#24292F"> </span><span style="color:#0550AE">10</span><span style="color:#24292F">; i </span><span style="color:#CF222E">&gt;=</span><span style="color:#24292F"> </span><span style="color:#0550AE">0</span><span style="color:#24292F">; i</span><span style="color:#CF222E">++</span><span style="color:#24292F">) console.</span><span style="color:#8250DF">log</span><span style="color:#24292F">(i); </span><span style="color:#6E7781">// -&gt; 10 11 12 13 ...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">for</span><span style="color:#C9D1D9"> (</span><span style="color:#FF7B72">let</span><span style="color:#C9D1D9"> i </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">10</span><span style="color:#C9D1D9">; i </span><span style="color:#FF7B72">&gt;=</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">0</span><span style="color:#C9D1D9">; i</span><span style="color:#FF7B72">++</span><span style="color:#C9D1D9">) console.</span><span style="color:#D2A8FF">log</span><span style="color:#C9D1D9">(i); </span><span style="color:#8B949E">// -&gt; 10 11 12 13 ...</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_JmGV" id="guard-for-in"><a href="https://eslint.org/docs/rules/guard-for-in" target="_blank" rel="noopener noreferrer"><code>guard-for-in</code></a><a class="hash-link" href="#guard-for-in" title="Direct link to heading">​</a></h3><p>TODO</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="no-continue"><a href="https://eslint.org/docs/rules/no-continue" target="_blank" rel="noopener noreferrer"><code>no-continue</code></a><a class="hash-link" href="#no-continue" title="Direct link to heading">​</a></h3><ul><li>Severity: off</li></ul><p><code>continue</code> is a way of early-bailing to avoid creating extra indentation. Instead of this:</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">for</span><span style="color:#24292F"> (</span><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#0550AE">line</span><span style="color:#24292F"> </span><span style="color:#CF222E">of</span><span style="color:#24292F"> lines) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">if</span><span style="color:#24292F"> (line.</span><span style="color:#8250DF">trim</span><span style="color:#24292F">().</span><span style="color:#0550AE">length</span><span style="color:#24292F"> </span><span style="color:#CF222E">&gt;</span><span style="color:#24292F"> </span><span style="color:#0550AE">0</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#6E7781">// 20 lines of handling this line...</span></div><div class="line"><span style="color:#24292F">  }</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">for</span><span style="color:#C9D1D9"> (</span><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">line</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">of</span><span style="color:#C9D1D9"> lines) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (line.</span><span style="color:#D2A8FF">trim</span><span style="color:#C9D1D9">().</span><span style="color:#79C0FF">length</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">&gt;</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">0</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#8B949E">// 20 lines of handling this line...</span></div><div class="line"><span style="color:#C9D1D9">  }</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Prefer this:</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">for</span><span style="color:#24292F"> (</span><span style="color:#CF222E">const</span><span style="color:#24292F"> </span><span style="color:#0550AE">line</span><span style="color:#24292F"> </span><span style="color:#CF222E">of</span><span style="color:#24292F"> lines) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">if</span><span style="color:#24292F"> (line.</span><span style="color:#8250DF">trim</span><span style="color:#24292F">().</span><span style="color:#0550AE">length</span><span style="color:#24292F"> </span><span style="color:#CF222E">===</span><span style="color:#24292F"> </span><span style="color:#0550AE">0</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">continue</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">  }</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#6E7781">// 20 lines of handling this line...</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">for</span><span style="color:#C9D1D9"> (</span><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">line</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">of</span><span style="color:#C9D1D9"> lines) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (line.</span><span style="color:#D2A8FF">trim</span><span style="color:#C9D1D9">().</span><span style="color:#79C0FF">length</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">===</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">0</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">continue</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">  }</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#8B949E">// 20 lines of handling this line...</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_JmGV" id="switch-case"><code>switch-case</code><a class="hash-link" href="#switch-case" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_JmGV" id="default-case"><a href="https://eslint.org/docs/rules/default-case" target="_blank" rel="noopener noreferrer"><code>default-case</code></a><a class="hash-link" href="#default-case" title="Direct link to heading">​</a></h3><ul><li>Severity: off</li></ul><p>We do not require a default case, because it is very idiomatic to use <code>switch-case</code> when we do know that the value falls within a finite range.</p><pre class="shiki github-light twoslash lsp" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">type</span><span style="color:#24292F"> </span><span style="color:#953800"><data-lsp lsp="type TreeNode = {
    type: &quot;leaf&quot;;
    value: number;
} | {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">TreeNode</data-lsp></span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">|</span><span style="color:#24292F"> { </span><span style="color:#953800"><data-lsp lsp="(property) type: &quot;leaf&quot;">type</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;leaf&quot;</span><span style="color:#24292F">; </span><span style="color:#953800"><data-lsp lsp="(property) value: number">value</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">number</span><span style="color:#24292F"> }</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">|</span><span style="color:#24292F"> { </span><span style="color:#953800"><data-lsp lsp="(property) type: &quot;parent&quot;">type</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;parent&quot;</span><span style="color:#24292F">; </span><span style="color:#953800"><data-lsp lsp="(property) children: TreeNode[]">children</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#953800"><data-lsp lsp="type TreeNode = {
    type: &quot;leaf&quot;;
    value: number;
} | {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">TreeNode</data-lsp></span><span style="color:#24292F">[] };</span></div><div class="line"> </div><div class="line"><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF"><data-lsp lsp="function transformNode(node: TreeNode): void">transformNode</data-lsp></span><span style="color:#24292F">(</span><span style="color:#953800"><data-lsp lsp="(parameter) node: TreeNode">node</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#953800"><data-lsp lsp="type TreeNode = {
    type: &quot;leaf&quot;;
    value: number;
} | {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">TreeNode</data-lsp></span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">switch</span><span style="color:#24292F"> (<data-lsp lsp="(parameter) node: TreeNode">node</data-lsp>.<data-lsp lsp="(property) type: &quot;leaf&quot; | &quot;parent&quot;">type</data-lsp>) {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">case</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;leaf&quot;</span><span style="color:#24292F">:</span></div><div class="line"><span style="color:#24292F">      <data-lsp lsp="(parameter) node: {
    type: &quot;leaf&quot;;
    value: number;
}">node</data-lsp>.<data-lsp lsp="(property) value: number">value</data-lsp></span><span style="color:#CF222E">++</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#CF222E">break</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">case</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;parent&quot;</span><span style="color:#24292F">:</span></div><div class="line"><span style="color:#24292F">      <data-lsp lsp="(parameter) node: {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">node</data-lsp>.<data-lsp lsp="(property) children: TreeNode[]">children</data-lsp>.</span><span style="color:#8250DF"><data-lsp lsp="(method) Array&lt;TreeNode&gt;.forEach(callbackfn: (value: TreeNode, index: number, array: TreeNode[]) =&gt; void, thisArg?: any): void">forEach</data-lsp></span><span style="color:#24292F">(<data-lsp lsp="function transformNode(node: TreeNode): void">transformNode</data-lsp>);</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#CF222E">break</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">default</span><span style="color:#24292F">:</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#6E7781">// This will never happen given proper boundary typing and input</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#6E7781">// validation, but results in useless non-test-covered lines. Just omit</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#6E7781">// the default case.</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#6E7781">// @ts-expect-error: should never happen</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#CF222E">throw</span><span style="color:#24292F"> </span><span style="color:#CF222E">new</span><span style="color:#24292F"> </span><span style="color:#0550AE"><data-lsp lsp="var Error: ErrorConstructor
new (message?: string | undefined) =&gt; Error">Error</data-lsp></span><span style="color:#24292F">(</span><span style="color:#0A3069">`Bad node type ${</span><span style="color:#24292F"><data-lsp lsp="(parameter) node: never">node</data-lsp></span><span style="color:#0A3069">.</span><span style="color:#24292F"><data-lsp lsp="any">type</data-lsp></span><span style="color:#0A3069">}`</span><span style="color:#24292F">);</span></div><div class="line"><span style="color:#24292F">  }</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark twoslash lsp" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">type</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657"><data-lsp lsp="type TreeNode = {
    type: &quot;leaf&quot;;
    value: number;
} | {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">TreeNode</data-lsp></span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">|</span><span style="color:#C9D1D9"> { </span><span style="color:#FFA657"><data-lsp lsp="(property) type: &quot;leaf&quot;">type</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;leaf&quot;</span><span style="color:#C9D1D9">; </span><span style="color:#FFA657"><data-lsp lsp="(property) value: number">value</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">number</span><span style="color:#C9D1D9"> }</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">|</span><span style="color:#C9D1D9"> { </span><span style="color:#FFA657"><data-lsp lsp="(property) type: &quot;parent&quot;">type</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;parent&quot;</span><span style="color:#C9D1D9">; </span><span style="color:#FFA657"><data-lsp lsp="(property) children: TreeNode[]">children</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657"><data-lsp lsp="type TreeNode = {
    type: &quot;leaf&quot;;
    value: number;
} | {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">TreeNode</data-lsp></span><span style="color:#C9D1D9">[] };</span></div><div class="line"> </div><div class="line"><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF"><data-lsp lsp="function transformNode(node: TreeNode): void">transformNode</data-lsp></span><span style="color:#C9D1D9">(</span><span style="color:#FFA657"><data-lsp lsp="(parameter) node: TreeNode">node</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657"><data-lsp lsp="type TreeNode = {
    type: &quot;leaf&quot;;
    value: number;
} | {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">TreeNode</data-lsp></span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">switch</span><span style="color:#C9D1D9"> (<data-lsp lsp="(parameter) node: TreeNode">node</data-lsp>.<data-lsp lsp="(property) type: &quot;leaf&quot; | &quot;parent&quot;">type</data-lsp>) {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">case</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;leaf&quot;</span><span style="color:#C9D1D9">:</span></div><div class="line"><span style="color:#C9D1D9">      <data-lsp lsp="(parameter) node: {
    type: &quot;leaf&quot;;
    value: number;
}">node</data-lsp>.<data-lsp lsp="(property) value: number">value</data-lsp></span><span style="color:#FF7B72">++</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FF7B72">break</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">case</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;parent&quot;</span><span style="color:#C9D1D9">:</span></div><div class="line"><span style="color:#C9D1D9">      <data-lsp lsp="(parameter) node: {
    type: &quot;parent&quot;;
    children: TreeNode[];
}">node</data-lsp>.<data-lsp lsp="(property) children: TreeNode[]">children</data-lsp>.</span><span style="color:#D2A8FF"><data-lsp lsp="(method) Array&lt;TreeNode&gt;.forEach(callbackfn: (value: TreeNode, index: number, array: TreeNode[]) =&gt; void, thisArg?: any): void">forEach</data-lsp></span><span style="color:#C9D1D9">(<data-lsp lsp="function transformNode(node: TreeNode): void">transformNode</data-lsp>);</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FF7B72">break</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">default</span><span style="color:#C9D1D9">:</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#8B949E">// This will never happen given proper boundary typing and input</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#8B949E">// validation, but results in useless non-test-covered lines. Just omit</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#8B949E">// the default case.</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#8B949E">// @ts-expect-error: should never happen</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FF7B72">throw</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">new</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF"><data-lsp lsp="var Error: ErrorConstructor
new (message?: string | undefined) =&gt; Error">Error</data-lsp></span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">`Bad node type ${</span><span style="color:#C9D1D9"><data-lsp lsp="(parameter) node: never">node</data-lsp></span><span style="color:#A5D6FF">.</span><span style="color:#C9D1D9"><data-lsp lsp="any">type</data-lsp></span><span style="color:#A5D6FF">}`</span><span style="color:#C9D1D9">);</span></div><div class="line"><span style="color:#C9D1D9">  }</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>More favorably, <em>only</em> use switch-case if the matched value has a finite range (e.g. a union of literals). If it can be any value, use if-else instead.</p><pre class="shiki github-light twoslash lsp" style="background-color:#ffffff;color:#24292f"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#CF222E">type</span><span style="color:#24292F"> </span><span style="color:#953800"><data-lsp lsp="type Res = {
    code: 200;
    body: string;
    error: never;
} | {
    code: number;
    error: string;
    body: never;
}">Res</data-lsp></span><span style="color:#24292F"> </span><span style="color:#CF222E">=</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">|</span><span style="color:#24292F"> {</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#953800"><data-lsp lsp="(property) code: 200">code</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">200</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#953800"><data-lsp lsp="(property) body: string">body</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">string</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">      </span><span style="color:#953800"><data-lsp lsp="(property) error: never">error</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">never</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">    }</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">|</span><span style="color:#24292F"> { </span><span style="color:#953800"><data-lsp lsp="(property) code: number">code</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">number</span><span style="color:#24292F">; </span><span style="color:#953800"><data-lsp lsp="(property) error: string">error</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">string</span><span style="color:#24292F">; </span><span style="color:#953800"><data-lsp lsp="(property) body: never">body</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#0550AE">never</span><span style="color:#24292F"> };</span></div><div class="line"> </div><div class="line"><span style="color:#CF222E">function</span><span style="color:#24292F"> </span><span style="color:#8250DF"><data-lsp lsp="function handleResponse(res: Res): string">handleResponse</data-lsp></span><span style="color:#24292F">(</span><span style="color:#953800"><data-lsp lsp="(parameter) res: Res">res</data-lsp></span><span style="color:#CF222E">:</span><span style="color:#24292F"> </span><span style="color:#953800"><data-lsp lsp="type Res = {
    code: 200;
    body: string;
    error: never;
} | {
    code: number;
    error: string;
    body: never;
}">Res</data-lsp></span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">  </span><span style="color:#CF222E">if</span><span style="color:#24292F"> (<data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) code: number">code</data-lsp> </span><span style="color:#CF222E">===</span><span style="color:#24292F"> </span><span style="color:#0550AE">404</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">return</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;Not found&quot;</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">  } </span><span style="color:#CF222E">else</span><span style="color:#24292F"> </span><span style="color:#CF222E">if</span><span style="color:#24292F"> (<data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) code: number">code</data-lsp> </span><span style="color:#CF222E">===</span><span style="color:#24292F"> </span><span style="color:#0550AE">500</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">return</span><span style="color:#24292F"> </span><span style="color:#0A3069">&quot;Server error&quot;</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">  } </span><span style="color:#CF222E">else</span><span style="color:#24292F"> </span><span style="color:#CF222E">if</span><span style="color:#24292F"> (<data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) code: number">code</data-lsp> </span><span style="color:#CF222E">===</span><span style="color:#24292F"> </span><span style="color:#0550AE">200</span><span style="color:#24292F">) {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">return</span><span style="color:#24292F"> <data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) body: string">body</data-lsp>;</span></div><div class="line"><span style="color:#24292F">  } </span><span style="color:#CF222E">else</span><span style="color:#24292F"> {</span></div><div class="line"><span style="color:#24292F">    </span><span style="color:#CF222E">return</span><span style="color:#24292F"> </span><span style="color:#0A3069">`Unknown response shape: ${</span><span style="color:#0550AE"><data-lsp lsp="var JSON: JSON">JSON</data-lsp></span><span style="color:#0A3069">.</span><span style="color:#0550AE"><data-lsp lsp="(method) JSON.stringify(value: any, replacer?: ((this: any, key: string, value: any) =&gt; any) | undefined, space?: string | number | undefined): string (+1 overload)">stringify</data-lsp></span><span style="color:#0A3069">(</span><span style="color:#24292F"><data-lsp lsp="(parameter) res: Res">res</data-lsp></span><span style="color:#0A3069">)</span><span style="color:#0A3069">}`</span><span style="color:#24292F">;</span></div><div class="line"><span style="color:#24292F">  }</span></div><div class="line"><span style="color:#24292F">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-dark twoslash lsp" style="background-color:#0d1117;color:#c9d1d9"><div class="language-id">ts</div><div class="code-container"><code><div class="line"><span style="color:#FF7B72">type</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657"><data-lsp lsp="type Res = {
    code: 200;
    body: string;
    error: never;
} | {
    code: number;
    error: string;
    body: never;
}">Res</data-lsp></span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">=</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">|</span><span style="color:#C9D1D9"> {</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FFA657"><data-lsp lsp="(property) code: 200">code</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">200</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FFA657"><data-lsp lsp="(property) body: string">body</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">string</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">      </span><span style="color:#FFA657"><data-lsp lsp="(property) error: never">error</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">never</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">    }</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">|</span><span style="color:#C9D1D9"> { </span><span style="color:#FFA657"><data-lsp lsp="(property) code: number">code</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">number</span><span style="color:#C9D1D9">; </span><span style="color:#FFA657"><data-lsp lsp="(property) error: string">error</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">string</span><span style="color:#C9D1D9">; </span><span style="color:#FFA657"><data-lsp lsp="(property) body: never">body</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">never</span><span style="color:#C9D1D9"> };</span></div><div class="line"> </div><div class="line"><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF"><data-lsp lsp="function handleResponse(res: Res): string">handleResponse</data-lsp></span><span style="color:#C9D1D9">(</span><span style="color:#FFA657"><data-lsp lsp="(parameter) res: Res">res</data-lsp></span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#FFA657"><data-lsp lsp="type Res = {
    code: 200;
    body: string;
    error: never;
} | {
    code: number;
    error: string;
    body: never;
}">Res</data-lsp></span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (<data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) code: number">code</data-lsp> </span><span style="color:#FF7B72">===</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">404</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;Not found&quot;</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">  } </span><span style="color:#FF7B72">else</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (<data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) code: number">code</data-lsp> </span><span style="color:#FF7B72">===</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">500</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;Server error&quot;</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">  } </span><span style="color:#FF7B72">else</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">if</span><span style="color:#C9D1D9"> (<data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) code: number">code</data-lsp> </span><span style="color:#FF7B72">===</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">200</span><span style="color:#C9D1D9">) {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> <data-lsp lsp="(parameter) res: Res">res</data-lsp>.<data-lsp lsp="(property) body: string">body</data-lsp>;</span></div><div class="line"><span style="color:#C9D1D9">  } </span><span style="color:#FF7B72">else</span><span style="color:#C9D1D9"> {</span></div><div class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">`Unknown response shape: ${</span><span style="color:#79C0FF"><data-lsp lsp="var JSON: JSON">JSON</data-lsp></span><span style="color:#A5D6FF">.</span><span style="color:#79C0FF"><data-lsp lsp="(method) JSON.stringify(value: any, replacer?: ((this: any, key: string, value: any) =&gt; any) | undefined, space?: string | number | undefined): string (+1 overload)">stringify</data-lsp></span><span style="color:#A5D6FF">(</span><span style="color:#C9D1D9"><data-lsp lsp="(parameter) res: Res">res</data-lsp></span><span style="color:#A5D6FF">)</span><span style="color:#A5D6FF">}`</span><span style="color:#C9D1D9">;</span></div><div class="line"><span style="color:#C9D1D9">  }</span></div><div class="line"><span style="color:#C9D1D9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>You may ask, what if the type doesn&#x27;t reflect the full range of possible runtime input? The answer is, you are missing input validation. Writing incomplete types is going to cause troubles elsewhere, if not here.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="default-case-last"><a href="https://eslint.org/docs/rules/default-case-last" target="_blank" rel="noopener noreferrer"><code>default-case-last</code></a><a class="hash-link" href="#default-case-last" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li></ul><p>In case where there&#x27;s indeed a default case, we require it to be placed last. This is because a default case means, well, that all <em>previous</em> matches have failed. When reading the code, the reader is more interested in what the <em>previous</em> specified cases are rather than what the fallback behavior is.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="no-case-declarations"><a href="https://eslint.org/docs/rules/no-case-declarations" target="_blank" rel="noopener noreferrer"><code>no-case-declarations</code></a><a class="hash-link" href="#no-case-declarations" title="Direct link to heading">​</a></h3><ul><li>Severity: error</li></ul><p>If a case contains lexical declarations, it must be wrapped in a block. This is because the <code>case</code> are more like labels and do not create their own scope. This may lead to unexpected bugs, especially if there&#x27;s fallthrough.</p><p>TODO: examples?</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/js-style-guide/eslint-base/operators"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Operators</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/js-style-guide/eslint-base/functions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Functions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#conditionals" class="table-of-contents__link toc-highlight">Conditionals</a><ul><li><a href="#no-cond-assign" class="table-of-contents__link toc-highlight"><code>no-cond-assign</code></a></li><li><a href="#no-constant-condition" class="table-of-contents__link toc-highlight"><code>no-constant-condition</code></a></li></ul></li><li><a href="#loops" class="table-of-contents__link toc-highlight">Loops</a><ul><li><a href="#for-direction" class="table-of-contents__link toc-highlight"><code>for-direction</code></a></li><li><a href="#guard-for-in" class="table-of-contents__link toc-highlight"><code>guard-for-in</code></a></li><li><a href="#no-continue" class="table-of-contents__link toc-highlight"><code>no-continue</code></a></li></ul></li><li><a href="#switch-case" class="table-of-contents__link toc-highlight"><code>switch-case</code></a><ul><li><a href="#default-case" class="table-of-contents__link toc-highlight"><code>default-case</code></a></li><li><a href="#default-case-last" class="table-of-contents__link toc-highlight"><code>default-case-last</code></a></li><li><a href="#no-case-declarations" class="table-of-contents__link toc-highlight"><code>no-case-declarations</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://github.com/jc-verse/js-style-guide" rel="noopener noreferrer" class="footerLogoLink_tutC"><img src="/js-style-guide/img/logo.svg" alt="JC-verse logo" class="themedImage_BQGR themedImage--light_HAxW footer__logo"><img src="/js-style-guide/img/logo.svg" alt="JC-verse logo" class="themedImage_BQGR themedImage--dark_bGx0 footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 JC-verse. Built with Docusaurus.</div></div></div></footer></div>
<script src="/js-style-guide/assets/js/runtime~main.b742125e.js"></script>
<script src="/js-style-guide/assets/js/main.2daef5d8.js"></script>
</body>
</html>